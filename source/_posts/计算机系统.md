---
title: 计算机系统
date: 2020-06-27 08:28:06
tags:
---

# 概述

## 计算机系统的层次结构

```mermaid
graph TD
    应用层 --> 高级语言层 --> 汇编层 --> 操作系统层 --> 指令集架构层 --> 微代码层 --> 逻辑门层
```

## 计算机系统的三种活动

计算机系统通过接收输入、处理输入并生成输出来解决领域问题。

## 计算机系统的组成

计算机系统由硬件和*系统*软件组成的，它们共同工作来运行*应用程序*。

![计算机系统的分层视图](计算机系统/计算机系统的分层视图.png)

### 硬件

计算机由五大部分组成：

- 运算器
- 控制器
- 主存储器
- 输入设备
- 输出设备

五大部分之间由通信线路（总线：系统总线、内存总线、I/O总线）进行连接。

中央处理单元（CPU） = 运算器 + 控制器

芯片包含 CPU。

#### 处理器

```mermaid
graph LR
CPU分类 --> 按功能的适用范围
CPU分类 --> 按制造工艺
CPU分类 --> 按使用场合
按功能的适用范围 --> 通用CPU
按功能的适用范围 --> 专用CPU
按制造工艺 --> 电子管CPU
按制造工艺 --> 晶体管CPU
按制造工艺 --> 集成电路CPU
按制造工艺 --> 超大规模集成电路CPU
按使用场合 --> 科学计算CPU
按使用场合 --> 信息化设备CPU:台式电脑,服务器,笔记本
按使用场合 --> 移动计算CPU:手机,平板电脑
按使用场合 --> 嵌入式CPU
按使用场合 --> 微控制器CPU
```

### 软件

控制硬件的程序叫**软件**。

**程序**是计算机上执行的算法。

**算法**是一组指令，依照适当的顺序执行，在有限的时间内解决问题。

软件可分为两大类：

- 系统软件
- 应用软件

# 应用层

# 高级语言层

> 参考书目：
>
> - 《21天学通C语言（第7版）》
> - 《C语言程序设计·现代方法（第2版）》
> - 《C语言核心技术（第2版）》

## 编程的学习要点

1. 编程过程：编码、构建、运行
2. 数据结构
3. 控制结构
4. 算法
5. 编程模式：包含最佳编程实践
6. 模块
7. 应用

# 指令集架构层

## 信息表示

数字信息的最小单位是二进制位（简称**位**），也称为比特。

8个位被组织成一组，称为**字节**。

计算机系统中所有的信息——包括磁盘文件、内存中的程序和数据以及网络上传送的数据，都是由一串位表示的。区分不同数据对象的唯一方法是我们读到这些数据对象时的上下文。

## 计算机体系结构

### 硬件

#### 中央处理单元

#### 主存储器

主存保存四类信息：

- CPU处理的数据
- CPU执行的程序指令（因此，主存中包含了在系统中正在执行的所有应用程序的副本）
- 从外部环境接收数据的输入连接（内存映射输入）
- 向外部环境发送数据的输出连接（内存映射输出）

### 冯·诺依曼机器

冯·诺依曼机器执行一个程序所需步骤称为冯·诺依曼执行周期，它包括五个操作：

- 从`主存[PC]`中取指
- 译码被取指令
- 增加PC
- 执行被取指令
- 重复

> 注意：增加PC操作一定要在执行被取指令操作之前，否则，像跳转指令这类会直接修改PC寄存器值的操作将会被增加PC操作所覆盖，而无法正确工作。

冯·诺依曼周期被固化在CPU中，它伪代码描述如下：

```
（程序已被加载到主存0000处。）
PC = 0000
SP = 主存[FFF4]
do {
	从主存[PC]处获取指令指示符，并放到IR的第一个字节
	PC = PC + 1
	译码被取指令
	if (指令不是一元的) {
		从主存[PC]处获取操作数指示符，并放到IR的第一个字节之后
		PC = PC + 2
	}
	执行被取指令
} while (刚刚执行的指令不是停止指令 && 操作是合法的)
```

冯·诺依曼机器的程序和数据共享主存，这使得写一个用于处理另一个程序的程序成为可能。

> 将程序加载到主存0000处，这是由操作系统的装载器来完成的。
>
> 操作系统的装载器通常是固化到ROM中的。在计算机开机时，PC会被初始化为装载器的起始位置，从而导致装载器被启动执行。装载器启动完成后，就可以开始加载应用程序了。

### 存储器的层次结构

![存储器的层次结构](计算机系统/存储器的层次结构.png)

存储器层次结构的主要思想是上一层的存储器作为低一层存储器的高速缓存。

高速缓存使得系统可以获得一个很大的存储器，同时访问速度也很快，原因是利用了高速缓存的**局部性原理**，即程序具有访问局部区域里的数据和代码的趋势。

# 汇编层

## 汇编语言

## 语言翻译原理

# 操作系统层

## 进程管理

## 存储管理

# 逻辑门层

门（gate）是用来实现布尔函数的物理设备。

## 组合电路

## 时序电路

# 微代码层